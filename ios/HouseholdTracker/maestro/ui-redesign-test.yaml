appId: com.householdtracker.app
---
# UI Redesign Verification Test
- launchApp:
    clearState: true

# Handle case where app is already logged in (keychain tokens)
- runFlow:
    when:
      visible: "Transactions"
    file: helpers/logout-helper.yaml

# Verify Login Screen Redesign
- assertVisible: "Lucky Ledger"
- assertVisible: "Track household expenses together"

# Take screenshot of login screen
- takeScreenshot: "login-screen-redesign"

# Enter credentials
- tapOn: "your@email.com"
- inputText: "demo_alice@example.com"

- tapOn: "Your password"
- inputText: "password123"

# Tap login button
- tapOn: "Log In"

# Wait for main app to load
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 15000

# Small gesture to ensure UI is responsive
- swipe:
    direction: UP
    duration: 100

# Take screenshot of transactions screen
- takeScreenshot: "transactions-screen"

# Navigate to Summary tab
- tapOn:
    text: "Summary"
    index: 0
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Total Spent"
    timeout: 5000
- takeScreenshot: "summary-screen"

# Navigate to Budget tab - tap on the tab bar area (y=93% to hit above home indicator)
- tapOn:
    point: "62%,93%"
- extendedWaitUntil:
    visible: "Budget Rules"
    timeout: 5000
- takeScreenshot: "budget-screen"

# Navigate to Settings tab
- tapOn:
    point: "87%,93%"
- extendedWaitUntil:
    visible: "Demo Alice"
    timeout: 5000
- takeScreenshot: "settings-screen"

# Test complete - verify on Settings screen
- assertVisible: "Demo Alice"
