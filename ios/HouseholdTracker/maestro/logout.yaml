appId: com.householdtracker.app
---
# Logout E2E Test
- launchApp:
    clearState: true

# Check if already logged in (might have keychain tokens)
- runFlow:
    when:
      visible: "Transactions"
    file: helpers/logout-helper.yaml

# Login first
- assertVisible: "Lucky Ledger"
- tapOn: "Email"
- inputText: "demo_alice@example.com"
- tapOn: "Password"
- inputText: "password123"
- tapOn: "Log In"

# Wait for main screen
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 10000

# Navigate to Settings tab
- tapOn: "Settings"

# Tap logout
- tapOn: "Log Out"

# Verify back at login screen
- extendedWaitUntil:
    visible: "Lucky Ledger"
    timeout: 5000
