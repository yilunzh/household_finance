appId: com.householdtracker.app
---
# Comprehensive UI/UX Design Review
# Captures all major screens for visual inspection by design-review agent
#
# Run: ./scripts/ios-test.sh --test design-review
# Then: say "run design review" to analyze screenshots
#
# Note: Login screen is captured in login-flow.yaml (not included here)

- launchApp:
    clearState: true
    arguments:
      MAESTRO_TEST: true

# Test mode auto-login handles authentication
# Wait for Transactions screen to appear
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 10000

# Small gesture to ensure UI is responsive
- swipe:
    direction: UP
    duration: 100

# ============================================
# 1. TRANSACTIONS LIST
# ============================================
- extendedWaitUntil:
    visible: "January 2026"
    timeout: 3000
- takeScreenshot: "01-transactions-list"

# ============================================
# 2. ADD TRANSACTION SHEET
# ============================================
- tapOn:
    text: "Add Transaction"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Where did you spend?"
    timeout: 3000
- takeScreenshot: "02-add-transaction-top"

# Scroll down to see Notes section and Add button
- swipe:
    direction: UP
    duration: 500
- extendedWaitUntil:
    visible: "Notes"
    timeout: 2000
- takeScreenshot: "03-add-transaction-bottom"

# Cancel and return to transactions
- tapOn: "Cancel"
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 2000

# ============================================
# 3. TRANSACTION FILTER SHEET
# ============================================
# First tap Search to activate search mode
- tapOn:
    text: "Search"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Search transactions..."
    timeout: 2000

# Now tap Filters (icon changes to filter when search active)
- tapOn:
    text: "Filters"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Apply Filters"
    timeout: 3000
- takeScreenshot: "04-transaction-filter"

# Close filter
- tapOn: "Cancel"
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 2000

# Deactivate search mode by tapping Cancel
- tapOn:
    text: "Cancel"
    retryTapIfNoChange: true

# ============================================
# 4. TRANSACTION DETAIL
# ============================================
- tapOn:
    text: "Safeway"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Details"
    timeout: 2000
- takeScreenshot: "05-transaction-detail"

# Close detail (swipe down to dismiss sheet)
- swipe:
    direction: DOWN
    duration: 500
- extendedWaitUntil:
    visible: "Transactions"
    timeout: 3000

# ============================================
# 5. SUMMARY/RECONCILIATION
# ============================================
- tapOn:
    text: "Summary"
    index: 0
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Total Spent"
    timeout: 3000
- takeScreenshot: "06-summary-reconciliation"

# ============================================
# 6. BUDGET - RULES TAB
# ============================================
- tapOn:
    id: "tab-budget"
- extendedWaitUntil:
    visible: "Budget Rules"
    timeout: 3000
- takeScreenshot: "07-budget-rules"

# ============================================
# 7. BUDGET - SPLIT RULES TAB
# ============================================
- tapOn:
    text: "Split Rules"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Split Rules"
    timeout: 2000
- takeScreenshot: "08-split-rules"

# ============================================
# 8. SETTINGS MAIN
# ============================================
- tapOn:
    id: "tab-settings"
- extendedWaitUntil:
    visible: "Demo Alice"
    timeout: 3000
- takeScreenshot: "09-settings-main"

# ============================================
# 9. HOUSEHOLD SETTINGS
# ============================================
- tapOn:
    text: "Demo Household"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Household Settings"
    timeout: 3000
- takeScreenshot: "10-household-settings"

# Back to settings
- tapOn:
    id: "back-household-settings"
- extendedWaitUntil:
    visible: "Demo Alice"
    timeout: 2000

# ============================================
# 10. MEMBERS LIST
# ============================================
- tapOn:
    text: "Members"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Alice"
    timeout: 3000
- takeScreenshot: "11-members-list"

# Back to settings
- tapOn:
    id: "back-members"
- extendedWaitUntil:
    visible: "Demo Alice"
    timeout: 2000

# ============================================
# 11. EXPENSE TYPES
# ============================================
- tapOn:
    text: "Expense Types"
    retryTapIfNoChange: true
- extendedWaitUntil:
    visible: "Expense Types"
    timeout: 3000
- takeScreenshot: "12-expense-types"

# Test complete - Export Data skipped (blank screen bug to fix separately)
